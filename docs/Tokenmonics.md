# Описание всех токенов

## VRV

- Name - `Verv-Beta`
- Symbol - `VRV`
- Decimals - `4`
- Основные интерфейсы - `IERC20`
- Зависимости - `ERC20`, `ERC20Burnable`

Основные тезисы:
- При вызове метода transfer с каждой транзакции берется комиссия `Из тех VRV что в транзакции или сверх этого?`. 
  Распределение идет таким образом:
  - 0.036% делится на 100 или меньше случайных кошельков с балансом больше 0.0025% от общего количества токенов `Потенциально ресурсоемкая`
  - 0.014% Уничтожается - переводится на один из кошельков фундаментальных констант 
- Первоначальная чеканка `Комиссия не должна сниматься` `Необходимо при расскатке контракта сразу посчитать 
  количество выпускаемых токенов и распределить по разным кошелькам` `По итогу на балансе owner не должно остаться 
  не распределенных токенов`
- Чеканить токены может только адрес с определенной ролью [Токен определение роли](#accessmanager) `Нужно ли брать 
  комиссию за это?` Чеканить можно только для определенного адреса. `Должен быть список разрешенных адресов`.
  Роли которым доступна чеканка:
  - PEN
  - Commander
- Хранит в себе адрес [Токен определение роли](#accessmanager). `Кто его может поменять?`
- ~~В контракте должна быть возможность заблокировать на время определенное количество токенов~~ `В текущем контракте не увидел ничего про вестинг.`

Вопросы: (Часть вопросов выделено в тезисах)
- Нужно ли ограничение по максимальному количеству токенов в контракте
- Можно ли поменять владельца контракта, кто это сможет сделать?
- Какие полномочия остаются у владельца контракта. Нужен ли `Ownable`?
- Куда переводит деньги если на него приходит Eth? Нужно ли вообще это? Мне кажется нет.


## AccessManager

- Name - `VervAccessManager`
- Symbol - `VAC`
- Decimals - `0`
- Основные интерфейсы - `Свои интерфейсы`
- Зависимости - `Context` `Ownable`

Основные тезисы:
- Хранит в себе адреса контрактов. Которые может сменить Владелец контракта
  - [vId](#vid)
  - [Respect](#respect)
  - [Trust](#trust)
  - [Trust](#trust)
  - [Faith](#faith)
- Владельца контракта можно сменить без задержек
- Позволяет определить роль пользователя по следующим правилам
  Роли:
  - `Investor` Базовая роль
  - `Alien`
    - У Кошелька есть как минимум 1 токен [Respect](#respect) или 1 токен [vId](#vid)
  - `Resident`
    - У Кошелька есть как минимум 1 токен [Trust](#trust) или 1 токен [vId](#vid) со статусом `resident`
  - `Citizen`
    - У Кошелька есть как минимум 1 токен [Faith](#faith) или 1 токен [vId](#vid) со статусом `citizen`
  - `PEN`
    - У Кошелька есть 1 токен [vId](#vid) со статусом `pen`
  - `Commander`
      - У Кошелька есть 1 токен [vId](#vid) со статусом `commander`
- Должен быть метод получения роли и ноды по адресу

Вопросы: (Часть вопросов выделено в тезисах)
- Куда переводит деньги если на него приходит Eth? Нужно ли вообще это? Мне кажется нет.

## Respect

- Name - `VervRespect`
- Symbol - `VRESPECT`
- Decimals - `0`
- Основные интерфейсы - `IERC721`
- Зависимости - `ERC721`

Основные тезисы:
- В метод `tokenURI` отдаем ссылку вида `https://auth.vervdao.org/explorer/respect/<id>`.
- У пользователя может быть несколько токенов
- В контракте храним информацию для кого он выпущен
- Отключаем механизм передачи токенов
- Отчеканить может любой пользователь при этом он передает на депозит N количество токенов на 364 дней (52 недели) 
  `Именно 
  депозит под процент или безпроцентный, доступны ли выводы пользователю?`
- Срок жизни токена 364 дней (52 недели). Эта информация хранится в токене и доступна по методу.
- В случае сжигания до истечения срока жизни токена пользователем Депозит удаляется и [VRV](#vrv) не возвращаются.
- В случае сжигания после истечения срока жизни токена пользователем Депозит удаляется и автоматически проиходит 
  возврат всего депозита. `с процентами?`
- В токене есть общий интерфейс голоса. Размер голоса = 100

Вопросы: (Часть вопросов выделено в тезисах)
- Куда переводит деньги если на него приходит Eth? Нужно ли вообще это? Мне кажется нет.


## Trust

- Name - `Trust`
- Symbol - `VTRUST`
- Decimals - `0`
- Основные интерфейсы - `IERC721`
- Зависимости - `ERC721`

Основные тезисы:
- В метод `tokenURI` отдаем ссылку вида `https://auth.vervdao.org/explorer/trust/<id>`.
- У пользователя может быть несколько токенов
- В контракте храним информацию для кого он выпущен
- Отключаем механизм передачи токенов
- Отчеканить может любой пользователь при этом он передает на депозит N количество токенов на 364 дней (52 недели)
  `Именно
  депозит под процент или безпроцентный, доступны ли выводы пользователю?`
- Срок жизни токена 364 дней (52 недели). Эта информация хранится в токене и доступна по методу.
- В случае сжигания до истечения срока жизни токена пользователем Депозит удаляется и [VRV](#vrv) не возвращаются.
- В случае сжигания после истечения срока жизни токена пользователем Депозит удаляется и автоматически проиходит
  возврат всего депозита. `с процентами?`
- В токене есть общий интерфейс голоса. Размер голоса = 10

Вопросы: (Часть вопросов выделено в тезисах)
- Куда переводит деньги если на него приходит Eth? Нужно ли вообще это? Мне кажется нет.


## Faith

- Name - `VervFaith`
- Symbol - `VRFAITH`
- Decimals - `0`
- Основные интерфейсы - `IERC721`
- Зависимости - `ERC721`

Основные тезисы:
- В метод `tokenURI` отдаем ссылку вида `https://auth.vervdao.org/explorer/faith/<id>`.
- У пользователя может быть несколько токенов
- В контракте храним информацию для кого он выпущен
- Отключаем механизм передачи токенов
- Отчеканить может любой пользователь при этом он передает на депозит N количество токенов на 364 дней (52 недели)
  `Именно
  депозит под процент или безпроцентный, доступны ли выводы пользователю?`
- Срок жизни токена 364 дней (52 недели). Эта информация хранится в токене и доступна по методу.
- В случае сжигания до истечения срока жизни токена пользователем Депозит удаляется и [VRV](#vrv) не возвращаются.
- В случае сжигания после истечения срока жизни токена пользователем Депозит удаляется и автоматически проиходит
  возврат всего депозита. `с процентами?`
- В токене есть общий интерфейс голоса. Размер голоса = 1

Вопросы: (Часть вопросов выделено в тезисах)
- Куда переводит деньги если на него приходит Eth? Нужно ли вообще это? Мне кажется нет.


## CitPass

## CertPass

## VXP

## TaxReport

## PowerBoosters

## VID

- Name - `VervID`
- Symbol - `VID`
- Decimals - `0`
- Основные интерфейсы - `IERC721`
- Зависимости - 

Основные тезисы:
- На один адрес может быть выпущен только один
- Процесс перевыпуска предполагает сжигание старого. 
- Хранит в себе информацию о пользователе следующего вида
  - `uint256` `tokenId` Порядковый номер vID
  - `address` `owner` - Адрес владельца
  - `string` `firstName` - Имя
  - `string` `lastName` - Фамилия
  - `string` `role` Дополнительная фиксация роли, на случай отсутствия NFT, может иметь следующие значения:
    - `alien`
    - `resident`
    - `citizen`
    - `pen`
    - `commander`
  - `string` `node` Идентификатор ноды `Не совсем понимаю нужен ли он`  
  - `string[]` `citizenship` `Список стран?`
  - `bool` `sex` - `Пол? не совсем понимаю зачем если хочется в повестку поиграть есть строка гендора`
  - `string` `gender` - `Поле для соблюдение повестки...`
  - `string` `birthDate` - Дата рождения
  - `string` `birthPlace` - Место рождения `А действительно ли оно нужно`
  - `address` `issuer` - Адрес выпустившего паспорт
  - `uint` `createdAt` - Дата выпуска паспорта
  - `uint` `expiresAt` - Дата истечения паспорта, после этой даты паспорт не валиден и необходимо его сжечь
- Время жизни паспорта 360 дней.
- В метод `tokenURI` отдаем ссылку вида `https://people.vervdao.org/profile/<tokenId>`.
- Должен быть метод для получения хранимой информации по токену.
  Список кому доступна полная информация 
    - Владельцу паспорта
    - Списку разрешенных адресов, владелец сам может добавить адрес кому можно получить доступ
    - Пользователю с ролью Commander
    - Пользователю с ролью PEN при условии, что node совпадают
  Всем остальным доступно только краткая информация:
    - `tokenId`
    - `owner`
    - `firstName`
    - `expiresAt`
- Чеканить токены может только пользователь с ролью Commander или PEN, но при условии, что node совпадают. Комиссия в [VRV](#vrv) не берется
- Сжечь токен может владелец или пользователь с ролью Commander или PEN, но при условии, что node совпадают. 
  Комиссия в [VRV](#vrv) не берется

Вопросы: (Часть вопросов выделено в тезисах)
- Должен быть метод для внесения изменений в значение роли и node? Или это решается перевыпуском. Комиссия?
- Куда переводит деньги если на него приходит Eth? Нужно ли вообще это? Мне кажется нет.


## Treasury

- Name - `VervTreasury`
- Symbol - `VBANK`
- Decimals - `0`
- Основные интерфейсы - ``
- Зависимости -

Основные тезисы:
- Хранит в себе адрес [VRV](#vrv) токена. Сменить его может только пользователь с ролью Commander
- Может принимать eth. `Что с ним делать?`
- В контракте хранятся ограничения
  Примерная схема в разрезе адреса пользователя:
  - `mapping(string => bool)` где: string действие, bool разрешение
    Список действий:
    - `deposit`
    - `withdrawal`
    - `acceptedWithdrawal`
- В контракте хранятся лимиты как индивидуальные лимиты на переводы и выводы в месяц так с распределением по ролям.  
- Должен принимать депозит `deposit` в [VRV](#vrv) от пользователей. Тем самым переводить токены с баланса 
  пользователя на баланс Казначейства. Депозит может отправить пользователь с любой ролью при наличии [VRV](#vrv) токенов. 
  Примерная структура хранения информации о депозите в разрезе адрес кошелька:
  - `uint256` `createdAt` Дата создания
  - `unit256` `amount` Сумма депозита
  - `uint256` `vestingPeriodEnd` Временная метка окончания периода перехода 
  - `uint8` `revealPercentage` Процент токенов которые будут раскрываться каждый месяц после истечения срока действия
  - `uint256` `maturityPeriodEnd` Временная метка после того, как владелец сможет свободно использовать раскрывающийся процент своих токенов.
  - `uint256` `withdrawalAmount` Снятая с депозита сумма
- Должен быть метод для получения всех депозитов пользователя
- Должен быть метод для получения суммы всех депозитов пользователя за вычетом выплаченного `В текущем restOfDeposit?`
- Должен быть метод для получения суммы доступного вывода
- Должен быть метод для вывода `withdrawal` на адрес своего кошелька. С учетом лимитов.
- Должен быть метод для проведения переводов [VRV](#vrv)
- Должен быть метод для предавторизации вывода `acceptedWithdrawal`. Пользователь с ролью PEN или Commander может 
  одобрить вывод на кошелек пользователя, но не себя. С учетом лимитов. `Тут нужно голосование?`

Вопросы: (Часть вопросов выделено в тезисах)
- Кто может распоряжаться VRV от имени казначейства?
- Зачем нужен метод withdrawToCustodialWallet ?
- Про голосования. как происходят в каких действиях нужны?
- Как узнать баланс на какое то число? для этого нужно в начале 00:00:01 1 числа запускать транзакцию которая будет 
  записывать баланс на 1 число в контракт и списанием лимитов 
